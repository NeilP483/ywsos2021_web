{% extends "base.html" %}
{% block title %}Contact{% endblock %}

{% block scripts %}
<script type="text/javascript">
    var app = new Vue({
        el: "#vue-app",
        delimiters: ['[[',']]'],
        data() {
            return {
                email: "",
                issueHeader: "",
                issueDescription: "",
            };
        },
        methods: {
            submit(email,issueHeader,issueDescription) {
                $.ajax({
					type: 'POST',
					url: '/contact',
					data: JSON.stringify({"email": this.email, "issueHeader:": this.issueHeader, "issueDescription": this.issueDescription}),

					contentType: "application/json",
					dataType: "json"
				});

            }
        }
    });
</script>
{% endblock %}

{% block content %}
<div id = "vue-app">
    <div style="text-align:center">
        <input type="email" placeholder="Contact Email" v-model="email"> <br> <br>
        <input type="text" placeholder="Issue Heading" v-model="issueHeader"> <br> <br>
        <textarea placeholder="Type your issue here." v-model="issueDescription"></textarea> <br> <br>
        <button @click="submit(email,issueHeader,issueDescription)">Submit</button>
    </div>

</div>
{% endblock %}